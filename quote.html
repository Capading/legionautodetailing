<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Get a Free Quote</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="quote-page">

  <header>Get a Free Quote</header>

  <div class="content">
    <div id="confirmation" class="confirmation-message">
      Your quote request is ready! Please send the message that appears.
    </div>

    <form id="quoteForm" class="about-us">
      <div class="about-us-text">
        <h2>Tell Us About Your Vehicle</h2>

        <label>What is the make and model of your vehicle?</label><br>
        <input type="text" name="vehicle-type" required><br><br>

        <label>What are you looking for?</label><br>
        <select name="service-type" required>
          <option value="">Select a package...</option>
          <option value="interior">Full Interior Detail</option>
          <option value="exterior">Full Exterior Detail</option>
          <option value="full">Full Interior & Exterior Detail</option>
          <option value="ceramic">Full Ceramic Coat</option>
          <option value="claybar">Full Clay Bar</option>
          <option value="fullclayceramic">Full Ceramic Coat & Clay Bar</option>
          <option value="wheel">Wheel & Tire Shine</option>
          <option value="lightrestore">Headlight & Taillight Restoration</option>
        </select><br><br>

        <label>Are there any specific concerns? (e.g., stains, pet hair)</label><br>
        <textarea name="concerns"></textarea><br><br>

        <label>What is your preferred appointment date?</label><br>
        <input type="date" name="date" required><br><br>

        <label>What time of day works best?</label><br>
        <select name="time">
          <option value="">Select a time...</option>
          <option value="morning">Morning</option>
          <option value="afternoon">Afternoon</option>
          <option value="evening">Evening</option>
        </select><br><br>

        <label>Your name</label><br>
        <input type="text" name="name" required><br><br>

        <label>Your email or phone number</label><br>
        <input type="text" name="contact" required><br><br>

        <button class="quote-button" type="submit">Submit</button>
      </div>
    </form>

    <div id="confirmation" class="confirmation-message" style="display: none;">
      Thank you! Your quote request has been sent successfully.
    </div>

    <script>
      document.getElementById('quoteForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const formData = {
          makeModel: this.elements['vehicle-type'].value,
          serviceType: this.elements['service-type'].value,
          concerns: this.elements['concerns'].value,
          date: this.elements['date'].value,
          time: this.elements['time'].value,
          name: this.elements['name'].value,
          contact: this.elements['contact'].value
        };
      
        try {
          const response = await fetch('/api/submit-quote', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ formData })
          });
      
          const result = await response.json();
          
          if (result.success) {
            document.getElementById('confirmation').style.display = 'block';
            this.reset();
          } else {
            throw new Error(result.error || 'Failed to submit');
          }
        } catch (error) {
          console.error('Error:', error);
          alert('Failed to submit form. Please try again or contact us directly.');
        }
      });
      </script>

  </div>

  <div class="social-media-icons">
    <a href="https://www.facebook.com/people/Legion-Auto-Detailing/61573058196949/" target="_blank">
      <img src="https://cdn3.emoji.gg/emojis/6537_Facebook.png" alt="Facebook">
    </a>
    <a href="https://www.instagram.com/legionautodetailing" target="_blank">
      <img src="https://upload.wikimedia.org/wikipedia/commons/9/95/Instagram_logo_2022.svg" alt="Instagram">
    </a>
    <a href="https://www.tiktok.com/@legionautodetailing" target="_blank">
      <img src="https://cdn3.emoji.gg/emojis/38698-icono-de-tiktok.png" alt="TikTok">
    </a>
    <a href="https://www.youtube.com/@legionautodetailing" target="_blank">
      <img src="https://cdn3.emoji.gg/emojis/6463-youtube.png" alt="YouTube">
    </a>
  </div>

  <div class="footer">
    &copy; 2025 Test Website. All rights reserved.
  </div>

  <script src="scripts.js"></script>
</body>
</html>